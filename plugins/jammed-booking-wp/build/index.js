(()=>{"use strict";var e={n:t=>{var n=t&&t.__esModule?()=>t.default:()=>t;return e.d(n,{a:n}),n},d:(t,n)=>{for(var o in n)e.o(n,o)&&!e.o(t,o)&&Object.defineProperty(t,o,{enumerable:!0,get:n[o]})},o:(e,t)=>Object.prototype.hasOwnProperty.call(e,t)};const t=window.wp.element,n=window.wp.blocks,o=window.wp.blockEditor,a=window.wp.components,c=window.wp.apiFetch;var r=e.n(c);(0,n.registerBlockType)("jammed-booking/widget",{title:"Jammed Booking Widget",icon:"calendar",category:"widgets",attributes:{account:{type:"string",default:""}},edit:function({attributes:e,setAttributes:n}){const c=(0,o.useBlockProps)(),[i,l]=(0,t.useState)(e.account);return(0,t.useEffect)((()=>{r()({path:"/wp/v2/settings"}).then((e=>{e.jammed_account_subdomain&&!i&&(l(e.jammed_account_subdomain),n({account:e.jammed_account_subdomain}))}))}),[]),(0,t.createElement)(t.Fragment,null,(0,t.createElement)(o.InspectorControls,null,(0,t.createElement)(a.PanelBody,{title:"Jammed Booking Settings"},(0,t.createElement)(a.TextControl,{label:"Account Subdomain",value:i,onChange:e=>{l(e),n({account:e})}}))),(0,t.createElement)("div",c,(0,t.createElement)("p",null,"Jammed Booking Widget (Account: ",i||"Not set",")"),i&&(0,t.createElement)("jammed-bookings",{account:i})))},save:function(){return null}})})();